<!DOCTYPE html>
<html>
<head>
	<title>Hardog</title>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
	<meta content="yes" name="apple-mobile-web-app-capable" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style" />
	<meta content="telephone=no" name="format-detection" />
	
	
    <link rel="icon" href="/favicon.ico">
  	
  	<link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
<div class="author-meta">
	<div class="site-title">
		<h1><a href="http://hardog.net">Hardog</a></h1>
		<h3>
			<span>生活因折腾而精彩</span>
			<span class="site-title-offset">技术因专注而精进</span>
		</h3>
	</div>
	<div class="site-popularize">
		<div><span>Email: </span>1273203953@qq.com</div>
		<div><span>Location: </span>杭州·浙江</div>
		<div><span>GitHub: </span><a target="_blank" href="https://github.com/ncuzp">https://github.com/ncuzp</a></div>
	</div>
</div>
<div class="translate">
	<span class="show-text"></span>
	<input type="button" value="Trans" class="translate-btn" />
</div>
<div class="post">
	<div class="post-head">
		

<article class="article">
		<h3> <a href="/2016/05/24/enlearn/Log-message-style-guide/">Log message style guide</a> </h3>
		<aside class="article-meta">
			<span>时间: 2016-05-24 08:55:15 </span>
			<span class="article-tag">
			标签:
			
				
				<a href="/tags/english/">english</a>
			
			</span>
		</aside>
</article>



	</div>
	<div class="markdown-text">
		<p>原文链接: <a href="http://nedbatchelder.com/text/log-style-guide.html" target="_blank" rel="external">Log message style guide</a></p>
<h2 id="如何记录日志信息-1-当记录一个出错的操作时请说明不应该进行怎样的操作-2-当只是正常的记录日志信息时请说明即将进行的是什么操作-3-认真对待你的日志信息不要轻率-4-记录日志信息请使用正确的大小写以及标点符号-5-不同部分的日志信息使用分隔符-6-借助日志信息记录工具-7-专业一点"><a href="#如何记录日志信息-1-当记录一个出错的操作时请说明不应该进行怎样的操作-2-当只是正常的记录日志信息时请说明即将进行的是什么操作-3-认真对待你的日志信息不要轻率-4-记录日志信息请使用正确的大小写以及标点符号-5-不同部分的日志信息使用分隔符-6-借助日志信息记录工具-7-专业一点" class="headerlink" title="如何记录日志信息:1. 当记录一个出错的操作时请说明不应该进行怎样的操作. 2. 当只是正常的记录日志信息时请说明即将进行的是什么操作. 3. 认真对待你的日志信息不要轻率. 4. 记录日志信息请使用正确的大小写以及标点符号. 5. 不同部分的日志信息使用分隔符. 6. 借助日志信息记录工具. 7. 专业一点."></a><code>如何记录日志信息:1. 当记录一个出错的操作时请说明不应该进行怎样的操作. 2. 当只是正常的记录日志信息时请说明即将进行的是什么操作. 3. 认真对待你的日志信息不要轻率. 4. 记录日志信息请使用正确的大小写以及标点符号. 5. 不同部分的日志信息使用分隔符. 6. 借助日志信息记录工具. 7. 专业一点.</code></h2><p>One of the fit-and-finish issues all systems developers need to address is the text of log messages. This is a log message style guide.</p>
<p>Once your product ships, it will be in customers’ hands. They will run it on their machines. You won’t be around, and neither will your debugger. Log messages could be a big part of your customer’s experience with your product, especially when something goes wrong. They could also be a big part of your experience with fixing problems at customer sites.</p>
<h1 id="Be-professional"><a href="#Be-professional" class="headerlink" title="Be professional"></a>Be professional</h1><p>These log messages will be some poor customer’s first view of you after a problem occurs. Make sure the messages make the customer feel better about the product, not worse. Part of it is writing professional English (or whatever language), and part is having the right attitude in the text.</p>
<p>Simply being consistent in your log messages will go a long way toward making them seem professional and authoritative. Below I give guidelines for wording, punctuation, and so on. Even if you don’t use these guidelines, pick some rules, and follow them.</p>
<ul>
<li>When logging a problem performing an operation (for example, reading a record), say what couldn’t be done:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Couldn&#39;t read record.&#10;BAD:     Something happened?&#10;BAD:     Wow!!!&#10;BAD:     Oops.</span><br></pre></td></tr></table></figure>
<ul>
<li>When announcing an operation (either an informational or trace message), say what is going to happen.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Reading transaction log.&#10;BAD:     I think I&#39;ll read the transaction log.&#10;BAD:     Step 17a</span><br></pre></td></tr></table></figure>
<ul>
<li>Use normal sentence capitalization and punctuation.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Couldn&#39;t open storage file.&#10;BAD:     Couldn&#39;t   open storage    file&#10;BAD:     Couldn&#39;t Open Storage File&#10;BAD:     COULDN&#39;T OPEN STORAGE FILE</span><br></pre></td></tr></table></figure>
<ul>
<li>Don’t be flip. These message may be read by some customer pulling their hair out over a problem that’s making their day a nightmare. The last thing they want is to feel like you’re making fun of them from the comfort of your cushy cubicle.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Couldn&#39;t read record.&#10;BAD:     I wish I had been able to read that record&#10;BAD:     Wow!!! No record!&#10;BAD:     Oops. Record on floor.</span><br></pre></td></tr></table></figure>
<h1 id="Think-like-a-support-staffer"><a href="#Think-like-a-support-staffer" class="headerlink" title="Think like a support staffer"></a>Think like a support staffer</h1><p>As a developer, remember that you will be debugging problems with only these log messages to go by. Something will go wrong at a customer site, and you will be sent a log session (more than likely incomplete). You will not have a debugger, you will not have access to the machine. You will have your log messages. Make sure they will be helpful to you.</p>
<ul>
<li>When writing a message to the log, if you have more information (for example, an exception), use it in the message. Don’t forget to supply the punctuation needed to make it look right:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Couldn&#39;t save data: corrupt lock record&#10;BAD:     Couldn&#39;t save data&#10;BAD:     Couldn&#39;t save datacorrupt lock record</span><br></pre></td></tr></table></figure>
<ul>
<li>For punctuation between parts of the message, use a colon:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GOOD:    Couldn&#39;t save data: corrupt lock record&#10;BAD:     Couldn&#39;t save data | corrupt lock record&#10;BAD:     Couldn&#39;t save data &#60;corrupt lock record&#62;</span><br></pre></td></tr></table></figure>
<ul>
<li>Provide information you think the reader of the message will need. Don’t forget that the reader may be you six months from now. Try to answer his next question:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BAD:     Couldn&#39;t read vital information&#10;GOOD:    Couldn&#39;t read vital information: UserName&#10;BETTER:  Couldn&#39;t read vital information: UserName on document #2345a1</span><br></pre></td></tr></table></figure>
<h1 id="Use-a-real-log"><a href="#Use-a-real-log" class="headerlink" title="Use a real log"></a>Use a real log</h1><p>Many programming environments provide logging facilities. If you have one, use it. If you don’t have one, search the web for one you can use. If you can’t find one, seriously consider spending two days to write one. They provide useful features like timestamping, run-time selection of logging detail and facilities, options for where to log (system console, log file, system event log, etc).</p>
<p>Python has the logging module described in PEP 282, and now standard as of Python 2.3. Java has Apache’s log4j. An example C++ facility is available from CodeProject.</p>
<h1 id="Use-your-log-now"><a href="#Use-your-log-now" class="headerlink" title="Use your log now"></a>Use your log now</h1><p>As developers, we have a rich environment in which to experience our code: the debugger. When a problem occurs, our first impulse is to fix it: dive into the debugger, understand what’s happening, fix the code, recompile, no more problem. Except there could still be a problem: what if the same bug had happened at a customer site? Suppose you had to fix the bug with only the log messages to guide you? Would you have been able to?</p>
<p>Next time a bug appears, don’t jump into the debugger. Read the log. What did it tell you? Think hard about what information could have been presented there but was not. How could you make it more useful?</p>
<p>The first thing you should do is change the log to provide the information (ubiquitous stringification can help a great deal here). Run the code again (with the bug). Make sure that the log really is better. Then you can go ahead and fix the bug.</p>
<p>Of course, it is impossible to make logs rich enough to be a complete replacement for a debugger. And maybe you don’t want to put effort into improving your log. But using the log now will at least give you a sense of what your customers and support people (and likely, you) will be experiencing when the product is in the field.</p>

	</div>
</div>
<script src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js" type="text/javascript"></script>
<script src="/js/translate.js" type="text/javascript"></script>

<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76506889-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>